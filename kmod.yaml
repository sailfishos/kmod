Name: kmod
Summary: Linux kernel module handling
Description: |
  kmod is a set of tools to handle common tasks with Linux kernel modules like
  insert, remove, list, check properties, resolve dependencies and aliases.
Version: 9
Release: 1
Group: Kernel/Linux Kernel
License: LGPLv2
URL: http://git.profusion.mobi/cgit.cgi/kmod.git/
Sources:
    - http://www.kernel.org/pub/linux/utils/kernel/kmod/%{name}-%{version}.tar.xz
Files:
    - "%{_bindir}/kmod"
    - "%{_mandir}/*"
    - "%{_sbindir}/modprobe"
    - "%{_sbindir}/modinfo"
    - "%{_sbindir}/insmod"
    - "%{_sbindir}/rmmod"
    - "%{_sbindir}/lsmod"
    - "%{_sbindir}/depmod"

Obsoletes:
    - module-init-tools <= 3.15
Provides:
    - module-init-tools > 3.15

PkgConfigBR:
    - zlib
    - liblzma
ConfigOptions:
    - --with-xz
    - --with-zlib

SubPackages:
    - Name: devel
      Summary: Devel files for libkmod
      Description: Development files for libkmod.
      Group: Kernel/Linux Kernel
      Requires:
        - "%{name}-libs = %{version}-%{release}"
      Files:
        - "%{_includedir}/libkmod.h"
        - "%{_libdir}/libkmod.so"
        - "%{_libdir}/pkgconfig/libkmod.pc"

    - Name: libs
      Summary: Libraries for kmod
      Description: Libraries for kmod.
      Group: Kernel/Linux Kernel
      Files:
        - "%{_libdir}/libkmod.so.*"
      AutoDepend: false
